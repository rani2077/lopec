<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>로펙 : 카제로스 The First 현황판</title>
    <link rel="icon" type="image/png" href="https://cdnlopec.xyz/asset/image/lopec-ico.png">

    <script>
        let baseUrl = "https://cdnlopec.xyz/asset";
        let interValTime = 60 * 1000 * 10;
        if (!window.location.href.includes("lopec.kr")) {
            baseUrl = "/asset"
        }
        document.write('<link rel="stylesheet" href="' + baseUrl + '/css/reset.css?' + Math.floor((new Date).getTime() / interValTime) + '">');
        document.write('<link rel="stylesheet" href="' + baseUrl + '/css/layout.css?' + Math.floor((new Date).getTime() / interValTime) + '">');
        document.write('<link rel="stylesheet" href="' + baseUrl + '/css/common.css?' + Math.floor((new Date).getTime() / interValTime) + '">');
    </script>
    <style>
        iframe {
            width: 100%;
            height: calc(100vh - 60px - 220px) !important; /* 헤더 60 + 푸터 220 기준 */
            margin: 0 auto;
            display: block;
            margin-top: 60px !important;
            margin-bottom: 0 !important;
        }
    </style>
</head>

<body>
    <!-- <div class="" style="width: 1200px; height: 120px;margin: 0 auto; margin-top: 100px;">
        <script async
            src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5125145415518329"
            crossorigin="anonymous"></script>
        <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-5125145415518329"
            data-ad-slot="5543932069" data-ad-format="auto" data-full-width-responsive="true"></ins>
        <script>
            (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
    </div> -->
    <iframe src="/first/first.html" width="100%" frameborder="0"></iframe>

    <script>
        document.write('<script type="module" src="' + baseUrl + '/js/layout.js?' + Math.floor((new Date).getTime() / interValTime) + '"><\/script>');
        document.write('<script type="module" src="' + baseUrl + '/js/index.js?' + Math.floor((new Date).getTime() / interValTime) + '"><\/script>');
    </script>
    <script>
        (function () {
            function getIframe() {
                return document.querySelector('iframe[src*="/first/first.html"]');
            }
            function getFooterHeight() {
                const footer = document.querySelector('footer') || document.getElementById('footer') || document.querySelector('.footer');
                return footer ? footer.offsetHeight : 0;
            }
            function resizeIframe() {
                const iframe = getIframe();
                if (!iframe) return;
                try {
                    const doc = iframe.contentDocument || iframe.contentWindow.document;
                    const body = doc.body;
                    const html = doc.documentElement;
                    const contentHeight = Math.max(
                        body ? body.scrollHeight : 0,
                        html ? html.scrollHeight : 0
                    );
                    const extra = getFooterHeight();
                    iframe.style.setProperty('height', (contentHeight + extra) + 'px', 'important');
                } catch (_) { /* cross-origin 등 예외 무시 */ }
            }
            const iframe = getIframe();
            if (iframe) {
                iframe.addEventListener('load', function () {
                    resizeIframe();
                    try {
                        const doc = iframe.contentDocument || iframe.contentWindow.document;
                        const RO = iframe.contentWindow && iframe.contentWindow.ResizeObserver ? iframe.contentWindow.ResizeObserver : window.ResizeObserver;
                        if (RO) {
                            const ro = new RO(resizeIframe);
                            if (doc.documentElement) ro.observe(doc.documentElement);
                            if (doc.body) ro.observe(doc.body);
                        } else {
                            let attempts = 0;
                            const t = setInterval(function(){
                                resizeIframe();
                                if (++attempts > 20) clearInterval(t);
                            }, 500);
                        }
                    } catch (_) {
                        let attempts = 0;
                        const t = setInterval(function(){
                            resizeIframe();
                            if (++attempts > 20) clearInterval(t);
                        }, 500);
                    }
                });
            }
            window.addEventListener('resize', resizeIframe);
        })();
    </script>
</body>

</html>